<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Homi - Layout Shell</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet">
          <link rel="stylesheet" href="styles/home.css">

  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full w-full">
  <div class="layout-wrapper"><!-- TopNavbar Component -->
   <header class="top-navbar">
    <div class="navbar-left"><!-- Menu Toggle (Mobile) --> <button class="menu-toggle" id="menuToggle">
      <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12" /> <line x1="3" y1="6" x2="21" y2="6" /> <line x1="3" y1="18" x2="21" y2="18" />
      </svg></button> <!-- Logo --> <a href="#" class="logo">
      <div class="logo-icon">
       H
      </div><span class="logo-text app-name-text">Homi</span> </a> <!-- SearchBar Component -->
     <div class="search-bar"><span class="search-icon">
       <svg width="16" height="16" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8" /> <path d="m21 21-4.35-4.35" />
       </svg></span> <input type="text" class="search-input search-placeholder-text" placeholder="Search..."> <span class="search-shortcut">⌘K</span>
     </div>
    </div>
    <div class="navbar-right"><!-- Notifications --> <button class="notification-btn">
      <svg width="20" height="20" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" /> <path d="M13.73 21a2 2 0 0 1-3.46 0" />
      </svg><span class="notification-badge">2</span> </button> <!-- UserProfile Component -->
     <div class="user-profile"><button class="profile-button" id="profileButton">
       <div class="profile-avatar">
        JD
       </div>
       <div class="profile-info">
        <div class="profile-name">
         John Doe
        </div>
        <div class="profile-role">
         Admin
        </div>
       </div>
       <svg width="16" height="16" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color: #94a3b8; display: none;"><polyline points="6 9 12 15 18 9" />
       </svg></button> <!-- Profile Dropdown -->
      <div class="profile-dropdown" id="profileDropdown">
       <div class="dropdown-item">
        <svg width="16" height="16" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" /> <circle cx="12" cy="7" r="4" />
        </svg><span class="profile-view-text">View Profile</span>
       </div>
       <div class="dropdown-item">
        <svg width="16" height="16" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3" /> <path d="M12 1v6m0 6v6" /> <path d="m1 12 6 0m6 0 6 0" />
        </svg><span class="profile-preferences-text">Preferences</span>
       </div>
       <div class="dropdown-divider"></div>
       <div class="dropdown-item danger">
        <svg width="16" height="16" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" /> <polyline points="16 17 21 12 16 7" /> <line x1="21" y1="12" x2="9" y2="12" />
        </svg><span class="profile-logout-text">Logout</span>
       </div>
      </div>
     </div>
    </div>
   </header><!-- Layout Container -->
   <div class="layout-container"><!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div><!-- Mobile Menu -->
    <aside class="mobile-menu" id="mobileMenu">
     <div class="side-menu-nav"><a href="#dashboard" class="menu-item active" data-page="dashboard">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7" /> <rect x="14" y="3" width="7" height="7" /> <rect x="14" y="14" width="7" height="7" /> <rect x="3" y="14" width="7" height="7" />
       </svg><span class="menu-item-label nav-dashboard-text">Dashboard</span> </a> <a href="#tasks" class="menu-item" data-page="tasks">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4" /> <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
       </svg><span class="menu-item-label nav-tasks-text">Tasks</span> <span class="menu-item-badge">5</span> </a> <a href="#executors" class="menu-item" data-page="executors">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" /> <circle cx="9" cy="7" r="4" /> <path d="M23 21v-2a4 4 0 0 0-3-3.87" /> <path d="M16 3.13a4 4 0 0 1 0 7.75" />
       </svg><span class="menu-item-label nav-executors-text">Executors</span> </a> <a href="#messages" class="menu-item" data-page="messages">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
       </svg><span class="menu-item-label nav-messages-text">Messages</span> <span class="menu-item-badge">3</span> </a> <a href="#analytics" class="menu-item" data-page="analytics">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10" /> <line x1="12" y1="20" x2="12" y2="4" /> <line x1="6" y1="20" x2="6" y2="14" />
       </svg><span class="menu-item-label nav-analytics-text">Analytics</span> </a> <a href="#settings" class="menu-item" data-page="settings">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3" /> <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24" />
       </svg><span class="menu-item-label nav-settings-text">Settings</span> </a>
     </div>
    </aside><!-- SideMenu Component (Desktop) -->
    <aside class="side-menu" id="sideMenu">
     <div class="side-menu-header">
      <div class="side-menu-title">
       Navigation
      </div><button class="collapse-btn" id="collapseBtn">
       <svg width="16" height="16" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6" />
       </svg></button>
     </div>
     <nav class="side-menu-nav"><a href="#dashboard" class="menu-item active" data-page="dashboard">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7" /> <rect x="14" y="3" width="7" height="7" /> <rect x="14" y="14" width="7" height="7" /> <rect x="3" y="14" width="7" height="7" />
       </svg><span class="menu-item-label nav-dashboard-text">Dashboard</span> </a> <a href="#tasks" class="menu-item" data-page="tasks">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4" /> <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
       </svg><span class="menu-item-label nav-tasks-text">Tasks</span> <span class="menu-item-badge">5</span> </a> <a href="#executors" class="menu-item" data-page="executors">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" /> <circle cx="9" cy="7" r="4" /> <path d="M23 21v-2a4 4 0 0 0-3-3.87" /> <path d="M16 3.13a4 4 0 0 1 0 7.75" />
       </svg><span class="menu-item-label nav-executors-text">Executors</span> </a> <a href="#messages" class="menu-item" data-page="messages">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
       </svg><span class="menu-item-label nav-messages-text">Messages</span> <span class="menu-item-badge">3</span> </a> <a href="#analytics" class="menu-item" data-page="analytics">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10" /> <line x1="12" y1="20" x2="12" y2="4" /> <line x1="6" y1="20" x2="6" y2="14" />
       </svg><span class="menu-item-label nav-analytics-text">Analytics</span> </a> <a href="#settings" class="menu-item" data-page="settings">
       <svg class="menu-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3" /> <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24" />
       </svg><span class="menu-item-label nav-settings-text">Settings</span> </a>
     </nav>
    </aside><!-- Main Content -->
    <main class="main-content">
     <div class="content-container">
      <div class="content-card">
       <h2 class="content-title">Welcome to Homi</h2>
       <p class="content-description">This is a responsive layout shell with adaptive navigation. On mobile devices (&lt; 768px), you'll see a bottom navigation bar for thumb-friendly access. On tablet and desktop (≥ 768px), the navigation transforms into a collapsible sidebar.</p>
      </div>
      <div class="content-card">
       <h2 class="content-title">Layout Features</h2>
       <p class="content-description">• <strong>TopNavbar</strong> - Sticky header with logo, search, notifications, and profile<br>
         • <strong>SideMenu</strong> - Desktop sidebar with collapsible menu (≥ 768px)<br>
         • <strong>BottomNavigation</strong> - Mobile thumb-zone navigation (&lt; 768px)<br>
         • <strong>Active States</strong> - Visual feedback for current page<br>
         • <strong>Notification Badges</strong> - Unread counts on Tasks (5) and Messages (3)<br>
         • <strong>Responsive Design</strong> - Smooth transitions between layouts</p>
      </div>
      <div class="content-card">
       <h2 class="content-title">Try It Out</h2>
       <p class="content-description">Click on different navigation items to see the active state change. On desktop, try collapsing the sidebar using the toggle button. On mobile, open the menu using the hamburger icon in the top left. Resize your browser window to see the navigation transform between mobile and desktop layouts!</p>
      </div>
     </div>
    </main>
   </div><!-- BottomNavigation Component (Mobile) -->
   <nav class="bottom-navigation"><a href="#dashboard" class="nav-item active" data-page="dashboard">
     <svg class="nav-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7" /> <rect x="14" y="3" width="7" height="7" /> <rect x="14" y="14" width="7" height="7" /> <rect x="3" y="14" width="7" height="7" />
     </svg><span class="nav-item-label nav-dashboard-text">Dashboard</span> </a> <a href="#tasks" class="nav-item" data-page="tasks">
     <svg class="nav-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 11l3 3L22 4" /> <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
     </svg><span class="nav-item-label nav-tasks-text">Tasks</span> <span class="nav-item-badge">5</span> </a> <a href="#executors" class="nav-item" data-page="executors">
     <svg class="nav-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" /> <circle cx="9" cy="7" r="4" /> <path d="M23 21v-2a4 4 0 0 0-3-3.87" /> <path d="M16 3.13a4 4 0 0 1 0 7.75" />
     </svg><span class="nav-item-label nav-executors-text">Executors</span> </a> <a href="#messages" class="nav-item" data-page="messages">
     <svg class="nav-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
     </svg><span class="nav-item-label nav-messages-text">Messages</span> <span class="nav-item-badge">3</span> </a> <a href="#settings" class="nav-item" data-page="settings">
     <svg class="nav-item-icon" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3" /> <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m4.24 4.24l4.24 4.24M1 12h6m6 0h6M5.64 18.36l4.24-4.24m4.24-4.24l4.24-4.24" />
     </svg><span class="nav-item-label nav-settings-text">Settings</span> </a>
   </nav>
  </div>
  <script>
    // Mobile menu toggle
    const menuToggle = document.getElementById('menuToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');

    menuToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('show');
      mobileMenuOverlay.classList.toggle('show');
    });

    mobileMenuOverlay.addEventListener('click', () => {
      mobileMenu.classList.remove('show');
      mobileMenuOverlay.classList.remove('show');
    });

    // Sidebar collapse toggle
    const collapseBtn = document.getElementById('collapseBtn');
    const sideMenu = document.getElementById('sideMenu');

    collapseBtn.addEventListener('click', () => {
      sideMenu.classList.toggle('collapsed');
      const icon = collapseBtn.querySelector('svg polyline');
      if (sideMenu.classList.contains('collapsed')) {
        icon.setAttribute('points', '9 18 15 12 9 6');
      } else {
        icon.setAttribute('points', '15 18 9 12 15 6');
      }
    });

    // Profile dropdown toggle
    const profileButton = document.getElementById('profileButton');
    const profileDropdown = document.getElementById('profileDropdown');

    profileButton.addEventListener('click', (e) => {
      e.stopPropagation();
      profileDropdown.classList.toggle('show');
    });

    document.addEventListener('click', () => {
      profileDropdown.classList.remove('show');
    });

    // Navigation active state
    const allMenuItems = document.querySelectorAll('.menu-item, .nav-item');

    allMenuItems.forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        const page = item.dataset.page;

        // Update all menu items with the same page
        document.querySelectorAll(`[data-page="${page}"]`).forEach(menuItem => {
          // Remove active from all items
          document.querySelectorAll(`[data-page]`).forEach(mi => mi.classList.remove('active'));
          // Add active to clicked page items
          document.querySelectorAll(`[data-page="${page}"]`).forEach(mi => mi.classList.add('active'));
        });

        // Close mobile menu if open
        mobileMenu.classList.remove('show');
        mobileMenuOverlay.classList.remove('show');

        // Scroll to top
        document.querySelector('.main-content').scrollTop = 0;
      });
    });

    // Search keyboard shortcut (Cmd/Ctrl + K)
    document.addEventListener('keydown', (e) => {
      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        document.querySelector('.search-input')?.focus();
      }
    });

    // Config and SDK
    const defaultConfig = {
      background_color: '#f8fafc',
      surface_color: '#ffffff',
      text_color: '#0f172a',
      accent_color: '#3b82f6',
      border_color: '#e2e8f0',
      app_name: 'Homi',
      search_placeholder: 'Search...',
      nav_dashboard: 'Dashboard',
      nav_tasks: 'Tasks',
      nav_executors: 'Executors',
      nav_messages: 'Messages',
      nav_analytics: 'Analytics',
      nav_settings: 'Settings',
      profile_view: 'View Profile',
      profile_preferences: 'Preferences',
      profile_logout: 'Logout',
      font_family: 'Inter',
      font_size: 16
    };

    async function onConfigChange(config) {
      const customFont = config.font_family || defaultConfig.font_family;
      const baseSize = config.font_size || defaultConfig.font_size;
      const baseFontStack = 'system-ui, -apple-system, BlinkMacSystemFont, sans-serif';
      
      document.body.style.fontFamily = `${customFont}, ${baseFontStack}`;

      // Update text content
      document.querySelectorAll('.app-name-text').forEach(el => {
        el.textContent = config.app_name || defaultConfig.app_name;
      });
      
      document.querySelector('.search-placeholder-text').placeholder = 
        config.search_placeholder || defaultConfig.search_placeholder;

      document.querySelectorAll('.nav-dashboard-text').forEach(el => {
        el.textContent = config.nav_dashboard || defaultConfig.nav_dashboard;
      });

      document.querySelectorAll('.nav-tasks-text').forEach(el => {
        el.textContent = config.nav_tasks || defaultConfig.nav_tasks;
      });

      document.querySelectorAll('.nav-executors-text').forEach(el => {
        el.textContent = config.nav_executors || defaultConfig.nav_executors;
      });

      document.querySelectorAll('.nav-messages-text').forEach(el => {
        el.textContent = config.nav_messages || defaultConfig.nav_messages;
      });

      document.querySelectorAll('.nav-analytics-text').forEach(el => {
        el.textContent = config.nav_analytics || defaultConfig.nav_analytics;
      });

      document.querySelectorAll('.nav-settings-text').forEach(el => {
        el.textContent = config.nav_settings || defaultConfig.nav_settings;
      });

      document.querySelector('.profile-view-text').textContent = 
        config.profile_view || defaultConfig.profile_view;
      
      document.querySelector('.profile-preferences-text').textContent = 
        config.profile_preferences || defaultConfig.profile_preferences;
      
      document.querySelector('.profile-logout-text').textContent = 
        config.profile_logout || defaultConfig.profile_logout;
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_color || defaultConfig.background_color,
              set: (value) => {
                config.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => config.surface_color || defaultConfig.surface_color,
              set: (value) => {
                config.surface_color = value;
                window.elementSdk.setConfig({ surface_color: value });
              }
            },
            {
              get: () => config.text_color || defaultConfig.text_color,
              set: (value) => {
                config.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => config.accent_color || defaultConfig.accent_color,
              set: (value) => {
                config.accent_color = value;
                window.elementSdk.setConfig({ accent_color: value });
              }
            },
            {
              get: () => config.border_color || defaultConfig.border_color,
              set: (value) => {
                config.border_color = value;
                window.elementSdk.setConfig({ border_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: {
            get: () => config.font_family || defaultConfig.font_family,
            set: (value) => {
              config.font_family = value;
              window.elementSdk.setConfig({ font_family: value });
            }
          },
          fontSizeable: {
            get: () => config.font_size || defaultConfig.font_size,
            set: (value) => {
              config.font_size = value;
              window.elementSdk.setConfig({ font_size: value });
            }
          }
        }),
        mapToEditPanelValues: (config) => new Map([
          ['app_name', config.app_name || defaultConfig.app_name],
          ['search_placeholder', config.search_placeholder || defaultConfig.search_placeholder],
          ['nav_dashboard', config.nav_dashboard || defaultConfig.nav_dashboard],
          ['nav_tasks', config.nav_tasks || defaultConfig.nav_tasks],
          ['nav_executors', config.nav_executors || defaultConfig.nav_executors],
          ['nav_messages', config.nav_messages || defaultConfig.nav_messages],
          ['nav_analytics', config.nav_analytics || defaultConfig.nav_analytics],
          ['nav_settings', config.nav_settings || defaultConfig.nav_settings],
          ['profile_view', config.profile_view || defaultConfig.profile_view],
          ['profile_preferences', config.profile_preferences || defaultConfig.profile_preferences],
          ['profile_logout', config.profile_logout || defaultConfig.profile_logout]
        ])
      });
    }

    // Initialize
    onConfigChange(defaultConfig);
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b0643fc45a113f4',t:'MTc2NjE0MDY1Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>